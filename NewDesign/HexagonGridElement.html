<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>ParticlesTest</title>
    <section id="home">
        <div id="particles"></div>
    </section>
    
  
  <style>
    body, html{
        margin: 0;
        padding: 0;
        color: rgba(115, 246, 255, 0.904);
        background-color: rgb(255, 255, 255);
    }
    #home {
        width: 100%;
        height: 100%;
    }
    #particles{
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        background-color: #0E0B16;
        /*background: url(./imgages/filler.png) center center/cover;*/
    }
   </style>
</head>
<body>
    <script>
        window.onload = function(){
            maxField = document.getElementById("particles");
            canvas = document.createElement("canvas"),
            ctx = canvas.getContext("2d");
            canvasWidth = maxField.offsetWidth, //window.innerWidth
            //canvasWidth = window.innerWidth,
            canvasHeight = maxField.offsetHeight; // window.innerHeight
            //canvasHeight = window.innerHeight; // window.innerHeight

            canvas.width = canvasWidth,
            canvas.height = canvasHeight;

            document.getElementById("particles").appendChild(canvas);
            canvas.setAttribute("id", "canvas");
            ctx.fillStyle = 'black';
                ctx.fillRect(0,0,canvas.width,canvas.height);
            function clearScreen(){
                ctx.fillStyle = '#0E0B16';
                ctx.fillRect(0,0,canvas.width,canvas.height);
                /*
                var grd = ctx.createRadialGradient(canvas.width/2,canvas.height/2,canvas.width/8,canvas.width/2,canvas.height/2,canvas.width);
                grd.addColorStop(0,"#0E0B16");
                grd.addColorStop(1,"black");
                // Fill with gradient
                ctx.fillStyle = grd;
                ctx.fillRect(0,0,canvas.width,canvas.height);
                */
            }
            function drawRandomLine(){
                x = Math.random() * canvas.width
                y = Math.random() * canvas.height
                ctx.lineWidth = .1;
                ctx.strokeStyle = '#A239CA';
                ctx.beginPath();
                for(var i = 0; i < 1 ; i++){
                    
                    ctx.moveTo(x,y);
                    ctx.lineTo(Math.random() * 1000, Math.random() * 1000);
                    ctx.stroke();
                }
            }
            function drawRandomCircle(x,y,radius){
                ctx.lineWidth = 1.1;
                ctx.strokeStyle = '#A239CA';
                ctx.beginPath();
                ctx.arc(x, y,radius, 0, Math.PI * 2, false);
                ctx.stroke();
            }
            mouse = {
                x:undefined,
                y:undefined
            }

            var colorArray = ['#A239CA','white','#4717F6'];
            window.addEventListener("mousemove",function(event){
                mouse.x = event.x;
                mouse.y = event.y;
            })
            function Circle(x,y,radius,dx,dy){
                this.x = x;
                this.y = y;
                this.dx = dx;
                this.dy = dy;
                this.radius = radius;
                this.color = colorArray[Math.floor(Math.random() * colorArray.length)]

                this.draw = function(){
                    ctx.lineWidth = 1.1;
                    ctx.strokeStyle = '#A239CA';
                    ctx.beginPath();
                    ctx.arc(this.x, this.y,this.radius, 0, Math.PI * 2, false);
                    ctx.stroke();
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }

                this.update = function(){
                    if ( this.x + this.radius >= canvas.width || this.x - this.radius < 0 ){
                    this.dx = -this.dx;
                    }
                    if ( this.y + this.radius >= canvas.height || this.y - this.radius < 0 ){
                        this.dy = -this.dy;
                    }
                    this.x += this.dx;
                    this.y += this.dy;

                    // interactivity
                    /*
                    if(mouse.x - this.x < 50 && mouse.x - this.x > -50
                    && mouse.y - this.y < 50 && mouse.y - this.y > -50) {
                        this.radius +=1;
                    }else if(this.radius > 2){
                        this.radius -= 1;
                    }
                    */

                    this.draw();
                }
            }
            function randomInRange(min, max){
                var n = Math.random() * (max - min + 0.1) + min;
                return n > max ? randomInRange(min, max) : n;
            }
            function createCircleArray(circleArray){
                circleArray = []

                for(var i = 0; i < 3000; i++){
                    radius = randomInRange(0, 0.1); // 30 should be at least for nice circles
                    // where to spawn / e.g. ( canvas.width - radius * 2) + radius = not outside the acutal window
                    x = Math.random() * ( canvas.width - radius * 2) + radius;
                    y = Math.random() * ( canvas.height - radius * 2) + radius;
                    // how fast / velocity
                    dx = (Math.random() - 0.5) * .48;
                    dy = (Math.random() - 0.5) * .48;
                    circleArray.push(new Circle(x,y,radius,dx,dy));
                }

                return circleArray;
            }
            
            circleArray = createCircleArray();
            
            
            function Hexagon(Xcenter,Ycenter,size,dx,dy){
                numberOfSides = 6,
                this.size = size;
                this.Xcenter = Xcenter;
                this.Ycenter = Ycenter;
                this.dx = dx;
                this.dy = dy;

                this.draw = function(){
                    ctx.beginPath();
                    ctx.moveTo (this.Xcenter +  this.size * Math.cos(0), this.Ycenter +  this.size *  Math.sin(0));
                    for (var i = 1; i <= numberOfSides;i += 1) {
                        ctx.lineTo (this.Xcenter + this.size * Math.cos(i * 2 * Math.PI / numberOfSides), this.Ycenter + this.size * Math.sin(i * 2 * Math.PI / numberOfSides));
                    }
                    ctx.strokeStyle = "white";
                    ctx.lineWidth = 1;
                    ctx.stroke();
                }

                this.update = function(){
                    this.Xcenter += this.dx;
                    this.Ycenter += this.dy;
                    if ( this.Xcenter + this.size >= canvas.width || this.Xcenter - this.size < 0 ){
                    this.dx = -this.dx;
                    }
                    if ( this.Ycenter + this.size >= canvas.height || this.Ycenter - this.size < 0 ){
                        this.dy = -this.dy;
                    }
                    this.draw();
                }
            }
            function createHexagonArray(hexagonArray){
                hexagonArray = []

                for(var i = 0; i < 100; i++){
                    size = 20,
                    Xcenter = Math.random() * ( canvas.width - size ) + size ,
                    Ycenter = Math.random() * ( canvas.height - size ) + size ;
                    dx = (Math.random() - 0.5) * .8;;
                    dy = (Math.random() - 0.5) * .8;;
                    hexagonArray.push(new Hexagon(Xcenter,Ycenter,size,dx,dy));
                    }
                return hexagonArray;
            }
            hexagonArray = createHexagonArray();
            
            
            function redrawAndUpdate(){
                clearScreen()
                //drawRandomLine();
                //drawRandomCircle(x,y,radius);
                for(var i = 0; i < circleArray.length; i++){
                    circleArray[i].update();
                }
                for(var i = 0; i < circleArray.length; i++){
                    //hexagonArray[i].update();
                }
                
                
            }

            function loop(){
                //empty the paintwall
                redrawAndUpdate();
                requestAnimationFrame(loop);
            }
            loop();
              
        }
      </script>
</body>
</html>